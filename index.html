<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>bigscreen-player</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <script type="module">
            import { BigscreenPlayer } from "./dist-local/esm/main.js"

            // playbackStrategy is the customStrategies key used later
            window.bigscreenPlayer = { playbackStrategy: "CustomStrategy" }

            let player = BigscreenPlayer()
            let playbackElement = document.createElement("div")

            window.bsp_player = player

            document.body.appendChild(playbackElement)

            playbackElement.style.position = "absolute"
            playbackElement.style.height = "720px"
            playbackElement.style.width = "1280px"

            let minimalData = {
                // Private injected strategy from a custom location
                customStrategies: {
                    'CustomStrategy': '../../custom-location/strategy.js'
                },
                initialPlaybackTime: { seconds: 30 },
                media: {
                    captions: [],
                    mimeType: "video/mp4",
                    kind: "video",
                    urls: [
                        {
                            // A local mp4 test asset from a new 'static' folder
                            url: "http://localhost:10001/static/test-asset.mp4",
                            cdn: "local",
                        },
                    ],
                },
            }

            player.init(playbackElement, minimalData, {
                onSuccess: function () {
                    player.toggleDebug()
                },
                onError: function (error) {
                    player.toggleDebug()
                    throw new Error("Initialisation failed.", { cause: error })
                },
            })
        </script>
    </body>
</html>