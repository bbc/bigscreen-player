<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding favicon -->
    

    <!-- Adding meta -->
    
    
    <meta name="description" content="Simplified media playback for bigscreen devices" />
    
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>
      playbackstrategy/modifiers/samsungmaple.js
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <h2><a href="index.html"><img src='bsp-logo.png'/></a></h2><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><div class="accordion collapsed" id="5587359" > <h3 class="accordion-heading">Modules<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion collapsed child" id=6347735><div class="accordion-heading child"><a href="module-bigscreenplayer_bigscreenplayer.html">bigscreenplayer/bigscreenplayer</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#.getLiveSupport">getLiveSupport</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#.getLogLevels">getLogLevels</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#canPause">canPause</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#canSeek">canSeek</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#convertEpochMsToVideoTimeSeconds">convertEpochMsToVideoTimeSeconds</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#convertVideoTimeSecondsToEpochMs">convertVideoTimeSecondsToEpochMs</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getCurrentTime">getCurrentTime</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getDuration">getDuration</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getFrameworkVersion">getFrameworkVersion</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getLiveWindowData">getLiveWindowData</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getMediaKind">getMediaKind</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getPlayerElement">getPlayerElement</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getSeekableRange">getSeekableRange</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#getWindowType">getWindowType</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#isEnded">isEnded</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#isPaused">isPaused</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#isPlayingAtLiveEdge">isPlayingAtLiveEdge</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#isSubtitlesAvailable">isSubtitlesAvailable</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#isSubtitlesEnabled">isSubtitlesEnabled</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#mock">mock</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#mockJasmine">mockJasmine</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#pause">pause</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#play">play</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#registerForStateChanges">registerForStateChanges</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#registerForSubtitleChanges">registerForSubtitleChanges</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#registerForTimeUpdates">registerForTimeUpdates</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#registerPlugin">registerPlugin</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#setCurrentTime">setCurrentTime</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#setSubtitlesEnabled">setSubtitlesEnabled</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#setTransportControlsPosition">setTransportControlsPosition</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#tearDown">tearDown</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#toggleDebug">toggleDebug</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#transitions">transitions</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#unmock">unmock</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#unregisterForStateChanges">unregisterForStateChanges</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#unregisterForSubtitleChanges">unregisterForSubtitleChanges</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#unregisterForTimeUpdates">unregisterForTimeUpdates</a></li><li data-type='method'><a href="module-bigscreenplayer_bigscreenplayer.html#unregisterPlugin">unregisterPlugin</a></li></ul></li></ul> </div><div class="accordion collapsed" id="4884323" > <h3 class="accordion-heading">Tutorials<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="tutorial-CDN Failover.html">CDN Failover</a></li><li class="accordion-list" id=""><a href="tutorial-Configuration.html">Configuration</a></li><li class="accordion-list" id=""><a href="tutorial-Debugging.html">Debugging</a></li><li class="accordion-list" id=""><a href="tutorial-Design.html">Design</a></li><li class="accordion-list" id=""><a href="tutorial-Events.html">Events</a></li><li class="accordion-list" id=""><a href="tutorial-Getting Started.html">Getting Started</a></li><li class="accordion-list" id=""><a href="tutorial-Mocking Playback.html">Mocking Playback</a></li><li class="accordion-list" id=""><a href="tutorial-Playback Strategies.html">Playback Strategies</a></li><li class="accordion-list" id=""><a href="tutorial-Plugins.html">Plugins</a></li><li class="accordion-list" id=""><a href="tutorial-State Changes.html">State Changes</a></li><li class="accordion-list" id=""><a href="tutorial-Testing.html">Testing</a></li></ul> </div><div class="accordion collapsed" id="7021088" > <h3 class="accordion-heading">Global<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#hasAttribute">hasAttribute</a></li><li class="accordion-list" id=""><a href="global.html#rgbaToRGB">rgbaToRGB</a></li><li class="accordion-list" id=""><a href="global.html#safeRemoveElement">safeRemoveElement</a></li><li class="accordion-list" id=""><a href="global.html#Time">Time</a></li><li class="accordion-list" id=""><a href="global.html#WindowTypes">WindowTypes</a></li></ul> </div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        playbackstrategy/modifiers/samsungmaple.js
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import MediaPlayerBase from '../modifiers/mediaplayerbase'
import DebugTool from '../../debugger/debugtool'

function SamsungMaple () {
  const playerPlugin = document.getElementById('playerPlugin')

  let state = MediaPlayerBase.STATE.EMPTY
  let deferSeekingTo = null
  let postBufferingState = null
  let tryingToPause = false
  let currentTimeKnown = false

  let mediaType
  let source
  let mimeType

  let range
  let currentTime

  let eventCallbacks = []
  let eventCallback

  function initialiseMedia (type, url, mediaMimeType) {
    if (getState() === MediaPlayerBase.STATE.EMPTY) {
      mediaType = type
      source = url
      mimeType = mediaMimeType
      _registerEventHandlers()
      _toStopped()
    } else {
      _toError('Cannot set source unless in the \'' + MediaPlayerBase.STATE.EMPTY + '\' state')
    }
  }

  function resume () {
    postBufferingState = MediaPlayerBase.STATE.PLAYING
    switch (getState()) {
      case MediaPlayerBase.STATE.PLAYING:
        break

      case MediaPlayerBase.STATE.BUFFERING:
        if (tryingToPause) {
          tryingToPause = false
          toPlaying()
        }
        break

      case MediaPlayerBase.STATE.PAUSED:
        playerPlugin.Resume()
        toPlaying()
        break

      default:
        _toError('Cannot resume while in the \'' + getState() + '\' state')
        break
    }
  }

  function playFrom (seconds) {
    postBufferingState = MediaPlayerBase.STATE.PLAYING

    const seekingTo = range ? _getClampedTimeForPlayFrom(seconds) : seconds

    switch (getState()) {
      case MediaPlayerBase.STATE.BUFFERING:
        deferSeekingTo = seekingTo
        break

      case MediaPlayerBase.STATE.PLAYING:
        _toBuffering()
        if (!currentTimeKnown) {
          deferSeekingTo = seekingTo
        } else if (_isNearToCurrentTime(seekingTo)) {
          toPlaying()
        } else {
          _seekToWithFailureStateTransition(seekingTo)
        }
        break

      case MediaPlayerBase.STATE.PAUSED:
        _toBuffering()
        if (!currentTimeKnown) {
          deferSeekingTo = seekingTo
        } else if (_isNearToCurrentTime(seekingTo)) {
          playerPlugin.Resume()
          toPlaying()
        } else {
          _seekToWithFailureStateTransition(seekingTo)
          playerPlugin.Resume()
        }
        break

      case MediaPlayerBase.STATE.COMPLETE:
        playerPlugin.Stop()
        _setDisplayFullScreenForVideo()
        playerPlugin.ResumePlay(_wrappedSource(), seekingTo)
        _toBuffering()
        break

      default:
        _toError('Cannot playFrom while in the \'' + getState() + '\' state')
        break
    }
  }

  function beginPlayback () {
    postBufferingState = MediaPlayerBase.STATE.PLAYING
    switch (getState()) {
      case MediaPlayerBase.STATE.STOPPED:
        _toBuffering()
        _setDisplayFullScreenForVideo()
        playerPlugin.Play(_wrappedSource())
        break

      default:
        _toError('Cannot beginPlayback while in the \'' + getState() + '\' state')
        break
    }
  }

  function beginPlaybackFrom (seconds) {
    postBufferingState = MediaPlayerBase.STATE.PLAYING

    const seekingTo = range ? _getClampedTimeForPlayFrom(seconds) : seconds

    switch (getState()) {
      case MediaPlayerBase.STATE.STOPPED:
        _setDisplayFullScreenForVideo()
        playerPlugin.ResumePlay(_wrappedSource(), seekingTo)
        _toBuffering()
        break

      default:
        _toError('Cannot beginPlayback while in the \'' + getState() + '\' state')
        break
    }
  }

  function pause () {
    postBufferingState = MediaPlayerBase.STATE.PAUSED
    switch (getState()) {
      case MediaPlayerBase.STATE.BUFFERING:
      case MediaPlayerBase.STATE.PAUSED:
        break

      case MediaPlayerBase.STATE.PLAYING:
        _tryPauseWithStateTransition()
        break

      default:
        _toError('Cannot pause while in the \'' + getState() + '\' state')
        break
    }
  }

  function stop () {
    switch (getState()) {
      case MediaPlayerBase.STATE.STOPPED:
        break

      case MediaPlayerBase.STATE.BUFFERING:
      case MediaPlayerBase.STATE.PLAYING:
      case MediaPlayerBase.STATE.PAUSED:
      case MediaPlayerBase.STATE.COMPLETE:
        _stopPlayer()
        _toStopped()
        break

      default:
        _toError('Cannot stop while in the \'' + getState() + '\' state')
        break
    }
  }

  function reset () {
    switch (getState()) {
      case MediaPlayerBase.STATE.EMPTY:
        break

      case MediaPlayerBase.STATE.STOPPED:
      case MediaPlayerBase.STATE.ERROR:
        _toEmpty()
        break

      default:
        _toError('Cannot reset while in the \'' + getState() + '\' state')
        break
    }
  }

  function getSource () {
    return source
  }

  function getMimeType () {
    return mimeType
  }

  function getCurrentTime () {
    if (getState() === MediaPlayerBase.STATE.STOPPED) {
      return undefined
    } else {
      return currentTime
    }
  }

  function getSeekableRange () {
    return range
  }

  function getDuration () {
    if (range) {
      return range.end
    }
    return undefined
  }

  function getState () {
    return state
  }

  function getPlayerElement () {
    return playerPlugin
  }

  function toPlaying () {
    state = MediaPlayerBase.STATE.PLAYING
    _emitEvent(MediaPlayerBase.EVENT.PLAYING)
  }

  function toPaused () {
    state = MediaPlayerBase.STATE.PAUSED
    _emitEvent(MediaPlayerBase.EVENT.PAUSED)
  }

  function _toStopped () {
    currentTime = 0
    range = undefined
    state = MediaPlayerBase.STATE.STOPPED
    _emitEvent(MediaPlayerBase.EVENT.STOPPED)
  }

  function _toBuffering () {
    state = MediaPlayerBase.STATE.BUFFERING
    _emitEvent(MediaPlayerBase.EVENT.BUFFERING)
  }

  function _toComplete () {
    state = MediaPlayerBase.STATE.COMPLETE
    _emitEvent(MediaPlayerBase.EVENT.COMPLETE)
  }

  function _toEmpty () {
    _wipe()
    state = MediaPlayerBase.STATE.EMPTY
  }

  function _toError (errorMessage) {
    _wipe()
    state = MediaPlayerBase.STATE.ERROR
    _reportError(errorMessage)
    throw new Error('ApiError: ' + errorMessage)
  }

  function _onFinishedBuffering () {
    if (getState() !== MediaPlayerBase.STATE.BUFFERING) {
      return
    }

    if (deferSeekingTo === null) {
      if (postBufferingState === MediaPlayerBase.STATE.PAUSED) {
        _tryPauseWithStateTransition()
      } else {
        toPlaying()
      }
    }
  }

  function _onDeviceError (message) {
    _reportError(message)
  }

  function _onDeviceBuffering () {
    if (getState() === MediaPlayerBase.STATE.PLAYING) {
      _toBuffering()
    }
  }

  function _onEndOfMedia () {
    _toComplete()
  }

  function _stopPlayer () {
    playerPlugin.Stop()
    currentTimeKnown = false
  }

  function _tryPauseWithStateTransition () {
    let success = _isSuccessCode(playerPlugin.Pause())
    if (success) {
      toPaused()
    }

    tryingToPause = !success
  }

  function _onStatus () {
    let state = getState()
    if (state === MediaPlayerBase.STATE.PLAYING) {
      _emitEvent(MediaPlayerBase.EVENT.STATUS)
    }
  }

  function _onMetadata () {
    range = {
      start: 0,
      end: playerPlugin.GetDuration() / 1000
    }
  }

  function _onCurrentTime (timeInMillis) {
    currentTime = timeInMillis / 1000
    _onStatus()
    currentTimeKnown = true

    if (deferSeekingTo !== null) {
      _deferredSeek()
    }

    if (tryingToPause) {
      _tryPauseWithStateTransition()
    }
  }

  function _deferredSeek () {
    const clampedTime = _getClampedTimeForPlayFrom(deferSeekingTo)
    const isNearCurrentTime = _isNearToCurrentTime(clampedTime)

    if (isNearCurrentTime) {
      toPlaying()
      deferSeekingTo = null
    } else {
      const seekResult = _seekTo(clampedTime)

      if (seekResult) {
        deferSeekingTo = null
      }
    }
  }

  function _getClampedTimeForPlayFrom (seconds) {
    const clampedTime = getClampedTime(seconds)

    if (clampedTime !== seconds) {
      DebugTool.info('playFrom ' + seconds + ' clamped to ' + clampedTime + ' - seekable range is { start: ' + range.start + ', end: ' + range.end + ' }')
    }
    return clampedTime
  }

  function _onWindowHide () {
    stop()
  }

  function _registerEventHandlers () {
    window.SamsungMapleOnRenderError = () =>
      _onDeviceError('Media element emitted OnRenderError')
    playerPlugin.OnRenderError = 'SamsungMapleOnRenderError'

    window.SamsungMapleOnConnectionFailed = () =>
      _onDeviceError('Media element emitted OnConnectionFailed')
    playerPlugin.OnConnectionFailed = 'SamsungMapleOnConnectionFailed'

    window.SamsungMapleOnNetworkDisconnected = () =>
      _onDeviceError('Media element emitted OnNetworkDisconnected')
    playerPlugin.OnNetworkDisconnected = 'SamsungMapleOnNetworkDisconnected'

    window.SamsungMapleOnStreamNotFound = () =>
      _onDeviceError('Media element emitted OnStreamNotFound')
    playerPlugin.OnStreamNotFound = 'SamsungMapleOnStreamNotFound'

    window.SamsungMapleOnAuthenticationFailed = () =>
      _onDeviceError('Media element emitted OnAuthenticationFailed')
    playerPlugin.OnAuthenticationFailed = 'SamsungMapleOnAuthenticationFailed'

    window.SamsungMapleOnRenderingComplete = () => _onEndOfMedia()
    playerPlugin.OnRenderingComplete = 'SamsungMapleOnRenderingComplete'

    window.SamsungMapleOnBufferingStart = () => _onDeviceBuffering()
    playerPlugin.OnBufferingStart = 'SamsungMapleOnBufferingStart'

    window.SamsungMapleOnBufferingComplete = () => _onFinishedBuffering()
    playerPlugin.OnBufferingComplete = 'SamsungMapleOnBufferingComplete'

    window.SamsungMapleOnStreamInfoReady = () => _onMetadata()
    playerPlugin.OnStreamInfoReady = 'SamsungMapleOnStreamInfoReady'

    window.SamsungMapleOnCurrentPlayTime = (timeInMillis) => _onCurrentTime(timeInMillis)
    playerPlugin.OnCurrentPlayTime = 'SamsungMapleOnCurrentPlayTime'

    window.addEventListener('hide', _onWindowHide, false)
    window.addEventListener('unload', _onWindowHide, false)
  }

  function _unregisterEventHandlers () {
    const eventHandlers = [
      'SamsungMapleOnRenderError',
      'SamsungMapleOnRenderingComplete',
      'SamsungMapleOnBufferingStart',
      'SamsungMapleOnBufferingComplete',
      'SamsungMapleOnStreamInfoReady',
      'SamsungMapleOnCurrentPlayTime',
      'SamsungMapleOnConnectionFailed',
      'SamsungMapleOnNetworkDisconnected',
      'SamsungMapleOnStreamNotFound',
      'SamsungMapleOnAuthenticationFailed'
    ]

    for (let i = 0; i &lt; eventHandlers.length; i++) {
      const handler = eventHandlers[i]
      const hook = handler.substring('SamsungMaple'.length)

      playerPlugin[hook] = undefined
      delete window[handler]
    }

    window.removeEventListener('hide', _onWindowHide, false)
    window.removeEventListener('unload', _onWindowHide, false)
  }

  function _wipe () {
    _stopPlayer()
    mediaType = undefined
    source = undefined
    mimeType = undefined
    currentTime = undefined
    range = undefined
    deferSeekingTo = null
    tryingToPause = false
    currentTimeKnown = false
    _unregisterEventHandlers()
  }

  function _seekTo (seconds) {
    const offset = seconds - getCurrentTime()
    const success = _isSuccessCode(_jump(offset))

    if (success) {
      currentTime = seconds
    }

    return success
  }

  function _seekToWithFailureStateTransition (seconds) {
    const success = _seekTo(seconds)

    if (!success) {
      toPlaying()
    }
  }

  function _jump (offsetSeconds) {
    if (offsetSeconds > 0) {
      return playerPlugin.JumpForward(offsetSeconds)
    } else {
      return playerPlugin.JumpBackward(Math.abs(offsetSeconds))
    }
  }

  function _isHlsMimeType () {
    const mime = mimeType.toLowerCase()
    return mime === 'application/vnd.apple.mpegurl' || mime === 'application/x-mpegurl'
  }

  function _wrappedSource () {
    let wrappedSource = source

    if (_isHlsMimeType()) {
      wrappedSource += '|COMPONENT=HLS'
    }

    return wrappedSource
  }

  function _reportError (errorMessage) {
    DebugTool.info(errorMessage)
    _emitEvent(MediaPlayerBase.EVENT.ERROR, { 'errorMessage': errorMessage })
  }

  function _setDisplayFullScreenForVideo () {
    if (mediaType === MediaPlayerBase.TYPE.VIDEO) {
      const dimensions = _getScreenSize()
      playerPlugin.SetDisplayArea(0, 0, dimensions.width, dimensions.height)
    }
  }

  function _getScreenSize () {
    let w, h

    if (typeof (window.innerWidth) === 'number') {
      w = window.innerWidth
      h = window.innerHeight
    } else {
      const d = document.documentElement || document.body

      h = d.clientHeight || d.offsetHeight
      w = d.clientWidth || d.offsetWidth
    }

    return {
      width: w,
      height: h
    }
  }

  function _isSuccessCode (code) {
    const samsung2010ErrorCode = -1
    return code &amp;&amp; code !== samsung2010ErrorCode
  }

  /**
   * @constant {Number} Time (in seconds) compared to current time within which seeking has no effect.
   * On a sample device (Samsung FoxP 2013), seeking by two seconds worked 90% of the time, but seeking
   * by 2.5 seconds was always seen to work.
   */
  const CURRENT_TIME_TOLERANCE = 2.5

  function _isNearToCurrentTime (seconds) {
    const currentTime = getCurrentTime()
    const targetTime = getClampedTime(seconds)

    return Math.abs(currentTime - targetTime) &lt;= CURRENT_TIME_TOLERANCE
  }

  function getClampedTime (seconds) {
    const range = getSeekableRange()
    const CLAMP_OFFSET_FROM_END_OF_RANGE = 1.1
    const nearToEnd = Math.max(range.end - CLAMP_OFFSET_FROM_END_OF_RANGE, range.start)

    if (seconds &lt; range.start) {
      return range.start
    } else if (seconds > nearToEnd) {
      return nearToEnd
    } else {
      return seconds
    }
  }

  function _emitEvent (eventType, eventLabels) {
    const event = {
      type: eventType,
      currentTime: getCurrentTime(),
      seekableRange: getSeekableRange(),
      duration: getDuration(),
      url: getSource(),
      mimeType: getMimeType(),
      state: getState()
    }

    if (eventLabels) {
      for (const key in eventLabels) {
        if (eventLabels.hasOwnProperty(key)) {
          event[key] = eventLabels[key]
        }
      }
    }

    for (let index = 0; index &lt; eventCallbacks.length; index++) {
      eventCallbacks[index](event)
    }
  }

  return {
    addEventCallback: (thisArg, newCallback) => {
      eventCallback = (event) => {
        newCallback.call(thisArg, event)
      }

      eventCallbacks.push(eventCallback)
    },

    removeEventCallback: (callback) => {
      const index = eventCallbacks.indexOf(callback)

      if (index !== -1) {
        eventCallbacks.splice(index, 1)
      }
    },

    removeAllEventCallbacks: () => { eventCallbacks = [] },
    initialiseMedia: initialiseMedia,
    playFrom: playFrom,
    beginPlayback: beginPlayback,
    beginPlaybackFrom: beginPlaybackFrom,
    resume: resume,
    pause: pause,
    stop: stop,
    reset: reset,
    getSeekableRange: getSeekableRange,
    getState: getState,
    getPlayerElement: getPlayerElement,
    getSource: getSource,
    getMimeType: getMimeType,
    getCurrentTime: getCurrentTime,
    getDuration: getDuration,
    toPaused: toPaused,
    toPlaying: toPlaying
  }
}

export default SamsungMaple

</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"bigscreenplayer/bigscreenplayer","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html\">bigscreenplayer/bigscreenplayer</a>"},{"title":"module:bigscreenplayer/bigscreenplayer.getLiveSupport","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#.getLiveSupport\">module:bigscreenplayer/bigscreenplayer &rtrif; getLiveSupport</a>"},{"title":"module:bigscreenplayer/bigscreenplayer.getLogLevels","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#.getLogLevels\">module:bigscreenplayer/bigscreenplayer &rtrif; getLogLevels</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#canPause","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#canPause\">module:bigscreenplayer/bigscreenplayer &rtrif; canPause</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#canSeek","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#canSeek\">module:bigscreenplayer/bigscreenplayer &rtrif; canSeek</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#convertEpochMsToVideoTimeSeconds","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#convertEpochMsToVideoTimeSeconds\">module:bigscreenplayer/bigscreenplayer &rtrif; convertEpochMsToVideoTimeSeconds</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#convertVideoTimeSecondsToEpochMs","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#convertVideoTimeSecondsToEpochMs\">module:bigscreenplayer/bigscreenplayer &rtrif; convertVideoTimeSecondsToEpochMs</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getCurrentTime","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getCurrentTime\">module:bigscreenplayer/bigscreenplayer &rtrif; getCurrentTime</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getDuration","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getDuration\">module:bigscreenplayer/bigscreenplayer &rtrif; getDuration</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getFrameworkVersion","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getFrameworkVersion\">module:bigscreenplayer/bigscreenplayer &rtrif; getFrameworkVersion</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getLiveWindowData","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getLiveWindowData\">module:bigscreenplayer/bigscreenplayer &rtrif; getLiveWindowData</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getMediaKind","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getMediaKind\">module:bigscreenplayer/bigscreenplayer &rtrif; getMediaKind</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getPlayerElement","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getPlayerElement\">module:bigscreenplayer/bigscreenplayer &rtrif; getPlayerElement</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getSeekableRange","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getSeekableRange\">module:bigscreenplayer/bigscreenplayer &rtrif; getSeekableRange</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#getWindowType","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#getWindowType\">module:bigscreenplayer/bigscreenplayer &rtrif; getWindowType</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#isEnded","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#isEnded\">module:bigscreenplayer/bigscreenplayer &rtrif; isEnded</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#isPaused","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#isPaused\">module:bigscreenplayer/bigscreenplayer &rtrif; isPaused</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#isPlayingAtLiveEdge","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#isPlayingAtLiveEdge\">module:bigscreenplayer/bigscreenplayer &rtrif; isPlayingAtLiveEdge</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#isSubtitlesAvailable","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#isSubtitlesAvailable\">module:bigscreenplayer/bigscreenplayer &rtrif; isSubtitlesAvailable</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#isSubtitlesEnabled","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#isSubtitlesEnabled\">module:bigscreenplayer/bigscreenplayer &rtrif; isSubtitlesEnabled</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#mock","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#mock\">module:bigscreenplayer/bigscreenplayer &rtrif; mock</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#mockJasmine","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#mockJasmine\">module:bigscreenplayer/bigscreenplayer &rtrif; mockJasmine</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#pause","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#pause\">module:bigscreenplayer/bigscreenplayer &rtrif; pause</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#play","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#play\">module:bigscreenplayer/bigscreenplayer &rtrif; play</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#registerForStateChanges","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#registerForStateChanges\">module:bigscreenplayer/bigscreenplayer &rtrif; registerForStateChanges</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#registerForSubtitleChanges","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#registerForSubtitleChanges\">module:bigscreenplayer/bigscreenplayer &rtrif; registerForSubtitleChanges</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#registerForTimeUpdates","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#registerForTimeUpdates\">module:bigscreenplayer/bigscreenplayer &rtrif; registerForTimeUpdates</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#registerPlugin","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#registerPlugin\">module:bigscreenplayer/bigscreenplayer &rtrif; registerPlugin</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#setCurrentTime","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#setCurrentTime\">module:bigscreenplayer/bigscreenplayer &rtrif; setCurrentTime</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#setSubtitlesEnabled","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#setSubtitlesEnabled\">module:bigscreenplayer/bigscreenplayer &rtrif; setSubtitlesEnabled</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#setTransportControlsPosition","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#setTransportControlsPosition\">module:bigscreenplayer/bigscreenplayer &rtrif; setTransportControlsPosition</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#tearDown","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#tearDown\">module:bigscreenplayer/bigscreenplayer &rtrif; tearDown</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#toggleDebug","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#toggleDebug\">module:bigscreenplayer/bigscreenplayer &rtrif; toggleDebug</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#transitions","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#transitions\">module:bigscreenplayer/bigscreenplayer &rtrif; transitions</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#unmock","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#unmock\">module:bigscreenplayer/bigscreenplayer &rtrif; unmock</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#unregisterForStateChanges","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#unregisterForStateChanges\">module:bigscreenplayer/bigscreenplayer &rtrif; unregisterForStateChanges</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#unregisterForSubtitleChanges","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#unregisterForSubtitleChanges\">module:bigscreenplayer/bigscreenplayer &rtrif; unregisterForSubtitleChanges</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#unregisterForTimeUpdates","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#unregisterForTimeUpdates\">module:bigscreenplayer/bigscreenplayer &rtrif; unregisterForTimeUpdates</a>"},{"title":"module:bigscreenplayer/bigscreenplayer#unregisterPlugin","link":"<a href=\"module-bigscreenplayer_bigscreenplayer.html#unregisterPlugin\">module:bigscreenplayer/bigscreenplayer &rtrif; unregisterPlugin</a>"},{"title":"CDN Failover","link":"CDN Failover"},{"title":"Configuration","link":"Configuration"},{"title":"Debugging","link":"Debugging"},{"title":"Design","link":"Design"},{"title":"Events","link":"Events"},{"title":"Getting Started","link":"Getting Started"},{"title":"Mocking Playback","link":"Mocking Playback"},{"title":"Playback Strategies","link":"Playback Strategies"},{"title":"Plugins","link":"Plugins"},{"title":"State Changes","link":"State Changes"},{"title":"Testing","link":"Testing"},{"title":"hasAttribute","link":"<a href=\"global.html#hasAttribute\">hasAttribute</a>"},{"title":"rgbaToRGB","link":"<a href=\"global.html#rgbaToRGB\">rgbaToRGB</a>"},{"title":"safeRemoveElement","link":"<a href=\"global.html#safeRemoveElement\">safeRemoveElement</a>"},{"title":"Time","link":"<a href=\"global.html#Time\">Time</a>"},{"title":"WindowTypes","link":"<a href=\"global.html#WindowTypes\">WindowTypes</a>"}];
        var options = {"shouldSort":true,"threshold":0.4,"location":0,"distance":100,"maxPatternLength":32,"minMatchCharLength":1}
          setupSearch(list, options)
      </script>
    

    

    

    


  </body>

</html>
